<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Chat con Nelly Saori</title>
  <style>
    body { font-family: Arial; margin:0; display:flex; flex-direction:column; height:100vh; background:#f4f4f9; }
    .arriba { display:flex; flex:1; border-bottom:2px solid #ddd; }
    .gif-box {
      width: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #fff;
    }
    .gif-box img {
      width: 100%;
      height: auto;
      max-width: 800px;
      border-radius: 20px;
    }
    .chat-box { width:50%; padding:10px; background:#fafafa; overflow-y:auto; }
    .chat-message { margin:5px 0; padding:8px 10px; border-radius:10px; max-width:70%; clear:both; }
    .user { background:#d1e7ff; float:right; text-align:right; }
    .bot { background:#e6e6e6; float:left; text-align:left; }
    .abajo { display:flex; padding:10px; background:#fff; border-top:2px solid #ddd; }
    .abajo input { flex:1; padding:10px; font-size:16px; border:1px solid #ccc; border-radius:5px; margin-right:10px; }
    .abajo button { padding:10px 20px; font-size:16px; border:none; background:#007bff; color:white; border-radius:5px; cursor:pointer; }
    .abajo button:hover { background:#0056b3; }
  </style>
</head>
<body>
  <div class="arriba">
    <div class="gif-box">
      <img src="robot-ai.gif" alt="IA">
    </div>
    <div class="chat-box" id="chat-box"></div>
  </div>

  <div class="abajo">
    <input type="text" id="user-input" placeholder="Escribe tu mensaje...">
    <button onclick="enviarMensaje()">Enviar</button>
  </div>

  
  <script src="elizadata.js"></script>
<script src="elizabot.js"></script>

<script>
  const conocimientos = {
    "hola": "Hola, en quÃ© puedo ayudarte?.",
    "como te llamas?": "Mi nombre es Nelly Saori.",
    "cuÃ¡ntos aÃ±os tienes?": "Tengo 21 aÃ±os.",
    "dÃ³nde naciste?": "NacÃ­ en Guadalajara, Jalisco.",
    "dÃ³nde vives?": "Vivo en Guadalajara, Jalisco.",
    "quÃ© estudias?": "Estudio IngenierÃ­a en Sistemas.",
    "dÃ³nde estudias?": "Estudio en la UVM Guadalajara Sur.",
    "cuÃ¡l es tu carrera?": "Mi carrera es IngenierÃ­a en Sistemas.",
    "quÃ© edad tienes?": "Tengo 21 aÃ±os.",
    "quÃ© ciudad es tu favorita?": "Me gusta Roma.",
    "cuÃ¡l es tu comida favorita?": "Me gusta la pasta.",
    "quÃ© te gusta hacer en tu tiempo libre?": "Me gusta cantar, jugar videojuegos y pasar tiempo con mis amigos.",
    "tienes mascotas?": "SÃ­, tengo 2 mascotas.",
    "cÃ³mo se llaman tus mascotas?": "Una se llama Cuy y la otra Honey.",
    "quÃ© deporte te gusta?": "Me gusta el fÃºtbol, la F1, el bÃ¡squet, el americano, el tenis.",
    "practicas algÃºn deporte?": "Voy al gimnasio.",
    "quÃ© idiomas hablas?": "Hablo espaÃ±ol e inglÃ©s a nivel B2.",
    "cuÃ¡l es tu color favorito?": "Me gusta el negro y aqua.",
    "tienes hermanos?": "SÃ­, tengo una hermana.",
    "cuÃ¡l es tu pelÃ­cula favorita?": "Me gusta 'Siniester'.",
    "cuÃ¡l es tu mÃºsica favorita?": "Me gusta el rock y el pop.",
    "tienes pareja?": "No, actualmente no.",
    "quÃ© te gusta estudiar?": "Me gusta estudiar programaciÃ³n y tecnologÃ­a.",
    "quÃ© lenguaje de programaciÃ³n prefieres?": "Prefiero Python.",
    "quÃ© piensas de la inteligencia artificial?": "Creo que serÃ¡ nuestro futuro.",
    "cuÃ¡l es tu videojuego favorito?": "Me gusta 'Fortnite'.",
    "cuÃ¡l es tu meta profesional?": "Quiero ser una buena ingeniera en sistemas y trabajar en tecnologÃ­a.",
    "quÃ© hobbies tienes?": "Me gusta leer, cantar y convivir con mis mascotas.",
    "te gusta viajar?": "SÃ­, me gusta conocer nuevos lugares.",
    "cuÃ¡l es tu lugar favorito en Guadalajara?": "Me gusta el Bosque de la Primavera.",
    "quÃ© opinas de la universidad?": "Es una buena escuela, pero no escucha a sus estudiantes.",
    "quÃ© opinas de tus compaÃ±eros?": "Mis compaÃ±eros son amigables y colaborativos.",
    "cÃ³mo te sientes hoy?": "Me siento bien, gracias por preguntar.",
    "quÃ© planes tienes para hoy?": "Hoy planeo estudiar y descansar un poco.",
    "quÃ© te gusta comer?": "Me gusta comer tacos y pizza.",
    "prefieres dulce o salado?": "Prefiero lo salado.",
    "quÃ© color de ropa te gusta?": "Me gusta usar ropa azul o negra.",
    "tienes algÃºn talento especial?": "Soy buena programando y resolviendo problemas de lÃ³gica.",
    "quÃ© te motiva?": "Me motiva aprender cosas nuevas y mejorar cada dÃ­a.",
    "prefieres trabajar solo o en equipo?": "Prefiero trabajar en equipo.",
    "quÃ© redes sociales usas?": "Uso Instagram y WhatsApp.",
    "quÃ© tipo de pelÃ­culas te gustan?": "Me gustan las pelÃ­culas de acciÃ³n y ciencia ficciÃ³n.",
    "tienes algÃºn hÃ©roe?": "Admiro a varias personas que innovan en tecnologÃ­a.",
    "quÃ© opinas de la tecnologÃ­a?": "La tecnologÃ­a es increÃ­ble y cambia la vida de las personas.",
    "prefieres ciudad o campo?": "Prefiero la ciudad.",
    "cuÃ¡l es tu estaciÃ³n favorita del aÃ±o?": "Me gusta el verano.",
    "quÃ© tipo de mÃºsica escuchas mientras estudias?": "Escucho mÃºsica instrumental o relajante.",
    "cuÃ¡l es tu bebida favorita?": "Me gusta el refresco de cola.",
    "tienes alguna meta personal?": "Quiero viajar a otros paÃ­ses y conocer nuevas culturas.",
    "cÃ³mo te defines?": "Soy curiosa, creativa y perseverante.",
    "quÃ© quieres ser de grande?": "Quiero ser una ingeniera en sistemas exitosa.",
    "quÃ© opinas de tus estudios?": "Me gustan y son un reto interesante.",
    "cuÃ¡l es tu asignatura favorita?": "Me gusta programaciÃ³n y matemÃ¡ticas.",
    "quÃ© opinas de los exÃ¡menes?": "A veces estresantes, pero necesarios.",
    "prefieres estudiar de dÃ­a o de noche?": "Prefiero estudiar de noche."
  };

  function normalizar(texto) {
    return texto
      .toLowerCase()
      .normalize("NFD")
      .replace(/[\u0300-\u036f]/g, "")
      .replace(/[Â¿?Â¡!.,]/g, "")
      .trim();
  }

  let conocimientosNormalizados = {};
  for (let clave in conocimientos) {
    conocimientosNormalizados[normalizar(clave)] = conocimientos[clave];
  }

  let eliza = new ElizaBot();

  // --- ðŸ”¹ Detecta frases que abren el juego ---
  const triggers = [
    "vamos a jugar juego de tres rayas",
    "jugar tres en raya",
    "juguemos tres en raya",
    "quiero jugar tic tac toe",
    "vamos a jugar tic tac toe",
    "jugar juego de tres rayas",
    "jugar gato"
  ];

  function procesarMensaje(msg) {
    msg = normalizar(msg);

    // Si el usuario pide jugar
    if (triggers.includes(msg) || triggers.some(t => msg.includes(t))) {
      window.open('../tic-tac-toe/index.html', '_blank', 'noopener');
      return "Abriendo el juego de Tres en Raya en una nueva ventana. Â¡Disfruta ðŸŽ®!";
    }

    if (conocimientosNormalizados[msg]) {
      return conocimientosNormalizados[msg];
    }

    return eliza.transform(msg);
  }

  function enviarMensaje() {
    let input = document.getElementById("user-input");
    let mensaje = input.value.trim();
    if (mensaje === "") return;

    agregarMensaje(mensaje, "user");
    let respuesta = procesarMensaje(mensaje);
    setTimeout(() => agregarMensaje(respuesta, "bot"), 400);
    input.value = "";
  }

  function agregarMensaje(texto, tipo) {
    let chatBox = document.getElementById("chat-box");
    let msg = document.createElement("div");
    msg.classList.add("chat-message", tipo);
    msg.innerText = texto;
    chatBox.appendChild(msg);
    chatBox.scrollTop = chatBox.scrollHeight;
  }
</script>

  </script>
</body>
</html>
